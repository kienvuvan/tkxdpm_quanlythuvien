<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="report name" pageWidth="595" pageHeight="842" columnWidth="535" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="37393436-fd64-4b4b-ae2c-d89c76c2472a">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<style name="table">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 3">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 3_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 3_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 3_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 4">
		<box>
			<pen lineWidth="1.0" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 4_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 4_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 4_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 5">
		<box>
			<pen lineWidth="1.0" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 5_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 5_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 5_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 6">
		<box>
			<pen lineWidth="1.0" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 6_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 6_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 6_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 7">
		<box>
			<pen lineWidth="1.0" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 7_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 7_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 7_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 8">
		<box>
			<pen lineWidth="1.0" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 8_TH" mode="Opaque" backcolor="#F0F8FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 8_CH" mode="Opaque" backcolor="#BFE1FF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="table 8_TD" mode="Opaque" backcolor="#FFFFFF">
		<box>
			<pen lineWidth="0.5" lineColor="#FFFFFF"/>
		</box>
	</style>
	<subDataset name="loandetail" uuid="db203b13-11b1-4ce3-b498-83bf0cc1fd7c">
		<parameter name="idloan" class="java.lang.String">
			<defaultValueExpression><![CDATA[$P{idloan}]]></defaultValueExpression>
		</parameter>
		<queryString>
			<![CDATA[select * from loandetail where id like $P{idloan}]]>
		</queryString>
		<field name="id" class="java.lang.Integer">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="idcopy" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="title" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="isreturn" class="java.lang.Boolean">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
	</subDataset>
	<subDataset name="LoanBook" uuid="4a8072ff-d8ca-4a12-b408-fc9db7c5566f">
		<parameter name="idloan" class="java.lang.String">
			<defaultValueExpression><![CDATA[$P{idloan}]]></defaultValueExpression>
		</parameter>
		<parameter name="cardnoloan" class="java.lang.String">
			<defaultValueExpression><![CDATA[$P{cardnoloan}]]></defaultValueExpression>
		</parameter>
		<queryString>
			<![CDATA[select * from loanbook where id like $P{idloan} and cardno like $P{cardnoloan}]]>
		</queryString>
		<field name="id" class="java.lang.Integer">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="cardno" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="idlibrarian" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="name" class="java.lang.String">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="startdate" class="java.sql.Date">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="enddate" class="java.sql.Date">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
		<field name="money" class="java.lang.Double">
			<fieldDescription><![CDATA[]]></fieldDescription>
		</field>
	</subDataset>
	<parameter name="id" class="java.lang.String"/>
	<parameter name="cardno" class="java.lang.String"/>
	<queryString>
		<![CDATA[select 1]]>
	</queryString>
	<field name="1" class="java.lang.Long"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="79" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="0" width="555" height="79" uuid="d9839903-cf1e-49a8-89a5-91ba344f0206"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font fontName="Arial" size="40" isBold="true"/>
				</textElement>
				<text><![CDATA[Phiếu mượn sách]]></text>
			</staticText>
		</band>
	</title>
	<detail>
		<band height="274" splitType="Stretch">
			<staticText>
				<reportElement x="0" y="16" width="100" height="20" uuid="76dde184-9fff-4156-950a-05ca8aa9511a"/>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[Số phiếu :]]></text>
			</staticText>
			<staticText>
				<reportElement x="352" y="16" width="100" height="20" uuid="4ca29372-5a50-4015-94bf-f59367ee3572"/>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[Thẻ mượn :]]></text>
			</staticText>
			<staticText>
				<reportElement x="2" y="52" width="100" height="20" uuid="fd5ffb51-ac6a-481e-85b0-5d39904bbbb4"/>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[Tên :]]></text>
			</staticText>
			<staticText>
				<reportElement x="352" y="52" width="100" height="20" uuid="50e7b53a-8976-4ffa-a031-f76bc5aa3caa"/>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[Thủ thư :]]></text>
			</staticText>
			<staticText>
				<reportElement x="2" y="90" width="100" height="20" uuid="8a3f84ab-94db-4d80-9b3f-d94194fbb1a4"/>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[Ngày mượn :]]></text>
			</staticText>
			<staticText>
				<reportElement x="352" y="90" width="100" height="20" uuid="64e5391e-198a-4c0b-88fb-429a2df2fcc1"/>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[Hạn trả :]]></text>
			</staticText>
			<staticText>
				<reportElement x="2" y="131" width="100" height="20" uuid="84cbc89f-ec1d-462d-bfdc-87b20878be4e"/>
				<textElement verticalAlignment="Middle"/>
				<text><![CDATA[Tiền cọc :]]></text>
			</staticText>
			<textField>
				<reportElement x="100" y="16" width="100" height="20" uuid="65ce71b0-66d9-422b-adf6-06d8f415a777"/>
				<textFieldExpression><![CDATA[$P{id}]]></textFieldExpression>
			</textField>
			<componentElement>
				<reportElement key="table 3" style="table 3" x="2" y="199" width="553" height="50" uuid="694d1c27-018f-47f3-99f7-ecafbc62d2d0">
					<property name="1" value="Đã trả"/>
					<property name="0" value=""/>
				</reportElement>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="loandetail" uuid="4cf6349b-323d-4c23-bcc5-90779469e762">
						<datasetParameter name="idloan">
							<datasetParameterExpression><![CDATA[$P{id}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="146" uuid="408e9d55-b6e1-4303-b16f-e99619f42768">
						<jr:columnHeader style="table 3_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="146" height="30" uuid="eb0e26f1-a793-405f-b302-091849ecaf98"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial"/>
								</textElement>
								<text><![CDATA[Mã sách copy]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 3_TD" height="20" rowSpan="1">
							<textField>
								<reportElement x="0" y="0" width="146" height="20" uuid="911b708d-824f-403b-abd6-dbf6428a85f6"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{idcopy}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="264" uuid="2ea25e19-c764-48b6-a276-04f234be41fd">
						<jr:columnHeader style="table 3_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="264" height="30" uuid="ad07fe1d-a9bc-457f-b786-64b8c0522cf8"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial"/>
								</textElement>
								<text><![CDATA[Tên sách]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 3_TD" height="20" rowSpan="1">
							<textField>
								<reportElement x="0" y="0" width="264" height="20" uuid="1aa9ad39-7729-42a4-82fe-025cb3460a6d"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{title}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="142" uuid="fade4840-1998-421c-a321-2205c84cc6a2">
						<jr:columnHeader style="table 3_CH" height="30" rowSpan="1">
							<staticText>
								<reportElement x="0" y="0" width="142" height="30" uuid="292103de-1f21-4cd9-9eb3-e8ce3e91dcde"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial"/>
								</textElement>
								<text><![CDATA[Trả sách]]></text>
							</staticText>
						</jr:columnHeader>
						<jr:detailCell style="table 3_TD" height="20" rowSpan="1">
							<textField isBlankWhenNull="true">
								<reportElement x="0" y="0" width="142" height="20" uuid="e798c1c7-7f71-40db-9f02-9a641260f8fc"/>
								<textElement textAlignment="Center" verticalAlignment="Middle">
									<font fontName="Arial"/>
								</textElement>
								<textFieldExpression><![CDATA[( $F{isreturn} == true ? "1" : "")]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
			<componentElement>
				<reportElement key="table 4" style="table 4" x="452" y="52" width="100" height="20" uuid="c0870e22-6b7d-4fd6-aa62-25ff454ceb20"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="LoanBook" uuid="7e713c4c-8b66-491a-8442-341c35a114c9">
						<datasetParameter name="idloan">
							<datasetParameterExpression><![CDATA[$P{id}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="cardnoloan">
							<datasetParameterExpression><![CDATA[$P{cardno}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="90" uuid="c20b49b3-8953-405d-ac55-5b19ea24082b">
						<jr:detailCell style="table 4_TD" height="20">
							<textField>
								<reportElement x="0" y="0" width="90" height="20" uuid="acc4618a-6a6f-423c-8848-b1fe7a0fd8b5"/>
								<textElement verticalAlignment="Middle">
									<font fontName="Arial"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{idlibrarian}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
			<textField>
				<reportElement x="452" y="16" width="100" height="20" uuid="9388a9fe-88dd-48df-85d4-233852293291"/>
				<textFieldExpression><![CDATA[$P{cardno}]]></textFieldExpression>
			</textField>
			<componentElement>
				<reportElement key="table 5" style="table 5" x="100" y="52" width="100" height="20" uuid="be30f755-bfe4-49ea-b454-0af56eb03167"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="LoanBook" uuid="409a8a52-3a55-4754-a393-d92083c2a0cc">
						<datasetParameter name="idloan">
							<datasetParameterExpression><![CDATA[$P{id}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="cardnoloan">
							<datasetParameterExpression><![CDATA[$P{cardno}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="90" uuid="45172034-3c6c-4f19-8624-784353965866">
						<jr:detailCell style="table 5_TD" height="20">
							<textField>
								<reportElement x="0" y="0" width="90" height="20" uuid="d908e449-6319-4b1a-b802-e45384421b9f"/>
								<textElement verticalAlignment="Middle">
									<font fontName="Arial"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{name}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
			<componentElement>
				<reportElement key="table 6" style="table 6" x="102" y="90" width="98" height="20" uuid="b38e5dce-af28-4c96-831e-bf62df630056"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="LoanBook" uuid="aa504600-7fe2-4590-8627-1a0bc0db3380">
						<datasetParameter name="idloan">
							<datasetParameterExpression><![CDATA[$P{id}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="cardnoloan">
							<datasetParameterExpression><![CDATA[$P{cardno}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="90" uuid="3ab627b0-5dea-4608-9db7-84fd1aae79cf">
						<jr:detailCell style="table 6_TD" height="20">
							<textField pattern="dd/MM/yyyy">
								<reportElement x="0" y="0" width="90" height="20" uuid="441d4aae-47cb-4aaf-b691-80372954158d"/>
								<textElement verticalAlignment="Middle">
									<font fontName="Arial"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{startdate}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
			<componentElement>
				<reportElement key="table 7" style="table 7" x="452" y="90" width="100" height="20" uuid="f6e9c66d-02b4-4bd3-8360-83aef1d4bc59"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="LoanBook" uuid="bb2b441c-d800-4830-96b3-98988c04ef6d">
						<datasetParameter name="idloan">
							<datasetParameterExpression><![CDATA[$P{id}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="cardnoloan">
							<datasetParameterExpression><![CDATA[$P{cardno}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="90" uuid="0ec3acdc-2720-43b1-911d-e2f8556121bb">
						<jr:detailCell style="table 7_TD" height="20">
							<textField pattern="dd/MM/yyyy">
								<reportElement x="0" y="0" width="90" height="20" uuid="2e4dad35-fae6-46e1-9598-ba75e00221e0"/>
								<textElement verticalAlignment="Middle">
									<font fontName="Arial"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{enddate}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
			<componentElement>
				<reportElement key="table 8" style="table 8" x="102" y="131" width="98" height="20" uuid="61c81276-605c-4224-a580-95329ec7bb85"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="LoanBook" uuid="d0aa26cd-9385-443c-88dd-e9a35ca03f96">
						<datasetParameter name="idloan">
							<datasetParameterExpression><![CDATA[$P{id}]]></datasetParameterExpression>
						</datasetParameter>
						<datasetParameter name="cardnoloan">
							<datasetParameterExpression><![CDATA[$P{cardno}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="90" uuid="2a2c1681-0075-4fca-841d-229e1365ad56">
						<jr:detailCell style="table 8_TD" height="20">
							<textField pattern="###,### đ">
								<reportElement x="0" y="0" width="90" height="20" uuid="c157f7e9-e221-49ea-9ca7-35190fb6b3ac"/>
								<textElement verticalAlignment="Middle">
									<font fontName="Arial"/>
								</textElement>
								<textFieldExpression><![CDATA[$F{money}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
		</band>
	</detail>
	<summary>
		<band height="42" splitType="Stretch"/>
	</summary>
</jasperReport>
